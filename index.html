<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>MYCanvas</title>
</head>

<body>
    <canvas id="canvas" width="300" height="300"></canvas>
    <button>橡皮擦</button>
    
</body>
<script>
    var yyy = document.getElementById('canvas');
    size1()
    window.onresize = function(){
        size1()
    }

    function size1(){
        var pageWidth = document.documentElement.clientWidth
        var pageHeight = document.documentElement.clientHeight
        yyy.width = pageWidth
        yyy.height = pageHeight
    }

    var context = yyy.getContext('2d');

    function drawCircle(x, y, radius) {
        context.beginPath()
        context.arc(x, y, radius, 0, Math.PI * 2);
        context.stroke()
    }

    var painting = false
    var lastPoint = { x: undefined, y: undefined }
    yyy.onmousedown = function (a) {
        painting = true
        var x = a.clientX
        var y = a.clientY
        lastPoint = { x: x, y: y }
        drawCircle(x, y, 1)
    }
    yyy.onmousemove = function (a) {
        if (painting) {
            var x = a.clientX
            var y = a.clientY
            var newPoint = { x: x, y: y }
            drawCircle(x, y, 1)
            drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y)
            lastPoint = newPoint
        }
    }
    yyy.onmouseup = function (a) {
        painting = false
    }

    function drawLine(x1, y1, x2, y2) {
        context.beginPath();
        context.moveTo(x1, y1) //begin
        context.lineWidth = 5
        context.lineTo(x2, y2) //end
        context.stroke()
        context.closePath()
    }

</script>

</html>